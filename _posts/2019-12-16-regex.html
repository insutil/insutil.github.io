---
layout: post
title: "자바 정규식 (Regular Expression)"
subtitle: "자바 정규식에 대해 알아봅니다."
date: 2019-12-15
category: [study]
author: daleyblind
comments: true
---

<p>안녕하세요 인스유틸의 신입사원 장현입니다..</p>
<p>자바 정규식은 아무리 공부해도 새롭기 때문에 이렇게 포스팅하면 여러분들께 도움이 될까 이렇게 포스팅합니다.</p>
<br/>
<p>정규식은 우리가 프로그래밍 할 때, 여러가지 이유로 많이 쓰입니다.</p>
<p>예를 들어, 정규식은 문자열에서 특정 패턴을 찾거나, 교체 혹은 삭제하는 등 문자열을 원하는 형태로 편집하는 기능을 제공해줍니다.</p>
<br/>
<p>참고로, 대부분의 언어는 정규식을 가지고 있는데, 사용법이 조금씩 다르다는 것을 알아두세요!</p>
<br/>

<h2>JAVA 의 정규식</h2>
<br/>
<b>반드시 알아야 할 정규식의 기본 문법</b>
<br/>
<ul>
    <li> ^ : 문자열의 시작</li>
    <li> $ : 문자열의 종료</li>
    <li> . : 임의의 한 문자 (문자의 종류를 가리지 않음. 단, \는 넣을 수 없음)</li>
    <li> * : 앞 문자가 없을 수도, 무한정 많을 수도 있음</li>
    <li> + : 앞 문자가 하나 이상</li>
    <li> ? : 앞문자가 없거나 하나 있음</li>
    <li> [ ] : 문자의 집합이나 범위를 나타내며 두 문자 사이는 - 기호로 범위를 나타낸다. [ ]내에서 ^가 선행하여 존재하면 not을 의미한다 ex) [a-z] : a~z 사이의 문자, [^bc] : b,c를 제외한 나머지</li>
    <li> { } : 횟수 또는 범위를 나타낸다. ex) {2,3} : 2글자에서 3글자, {5} : 5글자</li>
    <li> ( ) : 소괄호 안의 문자를 하나의 문자로 인식</li>
    <li> | : 패턴 안에서 OR 연산을 수행할 때 사용</li>
    <li> \s : 공백 문자</li>
    <li> \S : 공백 문자가 아닌 나머지 문자</li>
    <li> \w : 알파벳이나 숫자</li>
    <li> \W : 알파벳이나 숫자를 제외한 문자</li>
    <li> \d : 숫자 [0-9]와 동일</li>
    <li> \D : 숫자를 제외한 모든 문자</li>
    <li> \ : 정규표현식 역슬래시(\)는 확장 문자. 역슬래시 다음에 일반 문자가 오면 특수문자로 취급하고 역슬래시 다음에 특수문자가 오면 그 문자 자체를 의미</li>
    <li> ?i : 앞 부분에 (?i) 라는 옵션을 넣어주면 대소문자를 구문하지 않음</li>
</ul>
<h5>먼저 데이터가 문자열로 넘어온다면 문자열 시작 : ^, 문자열 끝 : $로 감싸주면 되고, 문자열이 아니라면 안쓰면 됩니다</h5>
<br/><br/><br/>
<b>다음은 위의 기본 문법에 대한 예제입니다</b>
<br/>
<b>Example)</b>
<p>1. 숫자 데이터만 받기</p>
<b>-> [0-9]*</b>
<p>1234 같이 숫자로 넘어오는 경우 체크할 수 있습니다. <br/>하지만 "1234"처럼 문자로 감싸져 넘어오는 경우까지 체크할려면 <b>^[0-9]*$</b>로 해야합니다.</p>
<br/>
<p>2. 영문자만 받기</p>
<b>-> ^[a-zA-Z]*$</b>
<p>[ ] 안의 패턴은 and 일 경우 ,(콤마)로 구분할 필요 없이 쭉 이어쓸 수 있습니다. (예시로, a-z(알파벳 소문자)와 A-Z(알파벳 대문자) 사이에 콤마가 없는것처럼요~)</p>
<br/>
<p>3. 한글만 받기</p>
<b>-> ^[가-힣]*$</b>
<br/><br/>
<p>4. 영어&숫자만 받기</p>
<b>-> ^[a-zA-Z0-9]*$</b>
<br/><br/>
<p>5. 이메일 형식으로 체크 : 예시) daleyblind@naver.com (ㅎㅎ 제 이메일입니다)</p>
<b>-> ^[a-zA-Z0-9]+\@[a-zA-Z]+\.[a-zA-Z]+$</b>
<p>이메일은 살짝 복잡하므로 부가설명을 하겠습니다</p>
<p>이메일은 일단 문자를 받으므로 ^로 시작합니다. 그리고 ID 역할을 하는 이메일 앞부분은 알파벳 대소문자와 영어 모두 올 수 있으므로 [a-zA-Z0-9]를 씁니다.
그리고 *를 쓰게되면 존재하지 않는 것도 체크하니 +를 씁니다. @나 .은 특수문자이므로 앞에 \(역슬래시)를 넣습니다.
</p>
<br/>
<p>6. 핸드폰 체크 : 예시) 010-1234-5678</p>
<b>-> ^01(0|1|[6-9])\-(\d{4})\-(\d{4})$</b>
<br/>
<p>7. 핸드폰 다중 체크 : 예시) 010-234-5678, 010 - 1234 - 5678, 010 1234 5678, 01012345678</p>
<b>-> ^01(0|1|[6-9])\s?\-?\s?(\d{3,4})\s?\-?\s?\d{4}$</b>
<p>\s? : 공백이 있을 수도, 없을수도 있습니다.</p>
<p>\-? : - 특수문자가 있을 수도, 없을 수도 있습니다.</p>
<br/>
<p>8. 주민등록번호 체크 예시) 920902-1578939</p>
<b>\d{6}\-[1-4]\d{6}</b>
<p>해설 : \d는 [0-9]와 같으므로 뒤에 {6}는 0~9사이의 숫자 6개를 받겠다는 의미입니다. 마지막 [1-4]\d{6} 부분은 6개의 숫자를 받겠다는 건데 [1-4]와 \d가 겹쳐져 있는데
첫글자는 1~4의 숫자를 하나 받겠다는 뜻입니다.
</p>
<br/>
<p>IP 주소 체크 예시) 192.168.0.55</p>
<b>-> \d{1,3}\.\d{1,3}\d{1,3}\.\d{1,3}</b>
<br/><br/><br/><br/>

<h3>그럼 자바 정규표현식 사용법 중 하나를 채택해서, 실제 자바에서 어떻게 사용되는 지 알아보겠습니다.</h3>
<p><span style="background-color: rgb(255, 187, 0); color: rgb(255, 255, 255); font-size: 14pt;">boolean result</span><span style="background-color: rgb(255, 187, 0); color: rgb(255, 255, 255); font-size: 14pt;">&nbsp;= Pattern.matches("정규표현식", 검증데이터);</span></p>
<p>"정규표현식"에는 "^[0-9a-zA-Z]*$"과 같은 정규표현식이 들어가고, 검증데이터는 해당 정규표현식이 맞는지 확인 할 데이터가 들어갑니다.</p>
<p>결과는 true/false로 return 됩니다.</p>
<br/><br/>

<h4>자바에서 Email 검증을 위한 코드 Ex)</h4>
<p>String regEx = "^[a-zA-Z0-9]+\\@[a-zA-Z]+\\.[a-zA-Z]+$";</p>
<p>boolean regCheck = false;</p>
<p>regCheck = Pattern.matches(regEx, "daleyblind@naver.com");</p>
<p>if(regCheck) { // true
    <br/>
    // 이메일 형식이 맞는 경우
    <br/>
    }else { // false
    <br/>
    // 이메일 형식이 아닌 경우
    <br/>
    }
</p>
<br/><br/><br/>
<h2>여기까지가 기본 문법이고, 좀만 더 파고 듭시다!</h2>

<br/>
<b>1. 매칭될 문자를 지정하거나, 제외하는 방법입니다.</b>
<br/><br/>
<table border="1">
    <tbody><tr><th>정규식</th><th>설명</th></tr>
    <tr><td>[abc]</td><td>a, b, c중 하나이면 일치 합니다.</td></tr>
    <tr><td>[^abc]</td><td>a, b, c를 제외한 다른 글자 이면 일치합니다.</td></tr>
    <tr><td>[a-zA-Z]</td><td>a 부터 z까지의 소문자 알파벳 이거나 A 부터 Z까지의 대문자 알파벳 중의 하나라면 일치합니다.(범위)</td></tr>
    <tr><td>[a-d[m-p]]</td><td>a 부터 d까지, 또는 m 부터 p까지 중에 하나와 일치합니다: [a-dm-p] (합집합)</td></tr>
    <tr><td>[a-z&amp;&amp;[def]]</td><td>d, e, f 중의 하나와 일치합니다. (교집합)</td></tr>
    <tr><td>[a-z&amp;&amp;[^bc]]</td><td>b와 c를 제외한 a 부터 z까지 중의 하나와 일치합니다: [ad-z] (차집합)</td></tr>
    <tr><td nowrap="">[a-z&amp;&amp;[^m-p]]</td><td>m부터 p 까지를 제외한, a 부터 z까지 중의 하나와 일치합니다: [a-lq-z] (차집합)</td></tr>
    </tbody>
</table>
<br/><br/>
<b>2. 미리 정의된 문자를 지정하는 방법입니다.</b>
<br/><br/>
<table border="1">
    <tbody><tr><th>정규식</th><th>설명</th></tr>
    <tr><td>.</td><td>임의의 문자 (라인 종결자와 일치할 수도 하지 않을 수도 있음)</td></tr>
    <tr><td>\d</td><td>숫자 : [0-9]</td></tr>
    <tr><td>\D</td><td>숫자가 아닌것: [^0-9]</td></tr>
    <tr><td>\s</td><td>공백 문자: [ \t\n\x0B\f\r]</td></tr>
    <tr><td>\S</td><td>공백 문자가 아닌것: [^\s]</td></tr>
    <tr><td>\w</td><td>알파벳 단어 문자(word 문자): [a-zA-Z_0-9]</td></tr>
    <tr><td>\W</td><td>알파벳 단어 문자가 아닌것: [^\w]</td></tr>
    </tbody>
</table>
<br/><br/>
<b>3. 수량 매칭</b>
<br/><br/>
<table border="1">
    <tbody><tr><th>Greedy</th><th>Reluctant</th><th>Possessive</th><th>의미</th></tr>
    <tr><td>X?</td><td>X??</td><td>X?+</td><td>X가 없거나 한번 나옴</td></tr>
    <tr><td>X*</td><td>X*?</td><td>X*+</td><td>X가 없거나 한번 이상 나옴</td></tr>
    <tr><td>X+</td><td>X+?</td><td>X++</td><td>X가 한번 또는 여러번 나옴</td></tr>
    <tr><td>X{n}</td><td>X{n}?</td><td>X{n}+</td><td><p>X가 정확히&nbsp;n번 나옴</p></td></tr>
    <tr><td>X{n,}</td><td>X{n,}?</td><td>X{n,}+</td><td>X가 n번 이상 나옴</td></tr>
    <tr><td>X{n,m}</td><td>X{n,m}?</td><td>X{n,m}+</td><td>X가 n이상 m이하로 나옴</td></tr>
    </tbody>
</table>
<br/>
<p>수량매칭은 각각 세 가지 방법을 사용할 수 있는데 조금씩 차이가 있습니다.</p>
<br/>
<p>- <b>Greedy</b> : 매칭을 위해서 입력된 문자열 전체를 읽어서 확인하고 뒤에서 한자씩 빼면서 끝까지 확인합니다.</p>
<p>- <b>Reluctant</b> : 입력된 문자열에서 한글자씩 확인해 나갑니다. 마지막에 확인하는 것은 전체 문자열 입니다.</p>
<p>- <b>Possessive</b> : 입력된 전체 문자열을 확인합니다. Greedy와 달리 뒤에서 빼면서 확인하지 않습니다.</p>
<br/><br/>

<h3 style="color: darkred;">첫 포스팅인 만큼 부족함이 많이 느껴지네요... <br/> 더 재밌고 자세하게 알려드렸어야 하는데, 그러지 못해 아쉽고 죄송스럽습니다.<br/>
다음에 더 나아지도록 노력하겠습니다! <br/>다들 좋은 하루 되세요!
</h3>
